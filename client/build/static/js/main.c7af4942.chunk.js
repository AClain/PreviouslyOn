(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(23),i=n.n(o),r=n(40),s=n(5),l=n(2),u=n(149),f=n(150),m=n(39),d=n.n(m),h=n(38),p=n.n(h),E=n(22),v=(n(83),n(29)),k=n(30),g=n(4),b=n.n(g),w=new(function(){function e(){Object(v.a)(this,e),this.clientId="24a24546e256",this.secret="8ffe8ae1aff3da64e8c2e52445066880"}return Object(k.a)(e,[{key:"con",value:function(){window.location.href="https://www.betaseries.com/en/authorize?client_id=24a24546e256&redirect_uri=http://previouslyon.alexandre-clain.fr/getcode "}},{key:"discon",value:function(){var e=this;return new Promise((function(t,n){b.a.post("https://api.betaseries.com/members/destroy",{key:e.clientId,access_token:e.getToken()}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"recoverToken",value:function(e){var t=this;return new Promise((function(n,a){b.a.post("https://api.betaseries.com/oauth/access_token",{client_id:t.clientId,client_secret:t.secret,redirect_uri:"http://previouslyon.alexandre-clain.fr/getcode",code:e}).then((function(e){n(e.data.access_token)})).catch((function(e){a(e)}))}))}},{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"removeToken",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"isAuthenticated",value:function(){return null!==this.getToken()}}]),e}()),y=n(147),j=Object(y.a)((function(){return{toggleOnIcon:{fontSize:"75px",color:"#2ecc71"},toggleOffIcon:{fontSize:"75px",color:"#ff2244"},button:{"&:hover":{backgroundColor:"transparent"}}}}));function O(){var e=j(),t=Object(a.useState)(w.isAuthenticated()),n=Object(l.a)(t,2),o=n[0],i=n[1];return c.a.createElement(u.a,{id:"header",container:!0,justify:"center",alignItems:"center"},c.a.createElement(u.a,{item:!0,xs:8},c.a.createElement(u.a,{container:!0,justify:"space-evenly",alignItems:"center",id:"header-links-container"},c.a.createElement(u.a,{item:!0,className:"header-links"},c.a.createElement(E.b,{to:"/home",className:"header-link"},"Home")),c.a.createElement(u.a,{item:!0,className:"header-links"},c.a.createElement(E.b,{to:"/discover",className:"header-link"},"Discover")),c.a.createElement(u.a,{item:!0,className:"header-links"},c.a.createElement(E.b,{to:"/friends",className:"header-link"},"Friends")))),c.a.createElement(u.a,{item:!0,xs:3},c.a.createElement(u.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(u.a,{item:!0},c.a.createElement(f.a,{onClick:function(){w.isAuthenticated()&&(window.location.href="/disconnect")},onMouseEnter:function(){w.isAuthenticated()?i(!1):i(!0)},onMouseLeave:function(){w.isAuthenticated()?i(!0):i(!1)},className:e.button},(w.isAuthenticated(),o?c.a.createElement(p.a,{className:e.toggleOnIcon}):c.a.createElement(d.a,{className:e.toggleOffIcon})))))))}var I=n(151),S=Object(y.a)((function(){return{loading:{color:"#ff2244"}}}));function x(e){var t=S();return Object(a.useEffect)((function(){var t=n(107).parse(e.location.search).code;return null!==t&&(console.log(t),w.recoverToken(t).then((function(e){w.setToken(e),window.location.href="/home"})).catch((function(e){console.log(e)}))),function(){}}),[e.location.search]),c.a.createElement(u.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(u.a,{style:{textAlign:"center"},item:!0},c.a.createElement("h2",null,"Connexion ..."),c.a.createElement(I.a,{size:"75px",className:t.loading})))}var N=new(function(){function e(){Object(v.a)(this,e),this.clientId="24a24546e256",this.secret="8ffe8ae1aff3da64e8c2e52445066880",this.token=w.getToken()}return Object(k.a)(e,[{key:"discover",value:function(e){var t=this;return new Promise((function(n,a){b.a.get("https://api.betaseries.com/shows/discover?limit="+e+"&key="+t.clientId).then((function(e){n(e.data.shows)}),(function(e){a(e)}))}))}},{key:"followedShows",value:function(){var e=this;return new Promise((function(t,n){b.a.get("https://api.betaseries.com/shows/member?key="+e.clientId+"&access_token="+e.token).then((function(e){t(e)})).catch((function(e){console.log(e),n(e)}))}))}},{key:"addShow",value:function(e){var t=this;return new Promise((function(n,a){b.a.post("https://api.betaseries.com/shows/show",{id:e,key:t.clientId,access_token:t.token}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"getShow",value:function(e){var t=this;return new Promise((function(n,a){b.a.get("https://api.betaseries.com/shows/display?id="+e+"&key="+t.clientId+"&access_token="+t.token).then((function(e){n(e.data.show)})).catch((function(e){a(e)}))}))}},{key:"getEpisodesBySeason",value:function(e,t){var n=this;return new Promise((function(a,c){b.a.get("https://api.betaseries.com/shows/episodes?id="+e+"&season="+t+"&key="+n.clientId+"&access_token="+n.token).then((function(e){a(e.data.episodes)})).catch((function(e){c(e)}))}))}},{key:"getEpisode",value:function(e){var t=this;return new Promise((function(n,a){b.a.get("https://api.betaseries.com/episodes/display?id="+e+"&key="+t.clientId+"&access_token="+t.token).then((function(e){n(e.data.episode)})).catch((function(e){a(e)}))}))}},{key:"getEpisodePicture",value:function(e){var t=this;return new Promise((function(n,a){b.a.get("https://api.betaseries.com/pictures/episodes?id="+e+"&width=350&height=250&key="+t.clientId,{responseType:"blob"}).then((function(e){n(URL.createObjectURL(e.data))})).catch((function(e){a(e)}))}))}},{key:"addShowArchive",value:function(e){var t=this;return new Promise((function(n,a){b.a.post("https://api.betaseries.com/shows/archive",{id:e,key:t.clientId,access_token:t.token}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"deleteShowArchive",value:function(e){var t=this;return new Promise((function(n,a){b.a.delete("https://api.betaseries.com/shows/archive?id="+e+"&key="+t.clientId+"&access_token="+t.token).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"addShowFavorite",value:function(e){var t=this;return new Promise((function(n,a){b.a.post("https://api.betaseries.com/shows/favorite",{id:e,key:t.clientId,access_token:t.token}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"deleteShowFavorite",value:function(e){var t=this;return new Promise((function(n,a){b.a.delete("https://api.betaseries.com/shows/favorite?id="+e+"&key="+t.clientId+"&access_token="+t.token).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"getRecommandationFriends",value:function(){var e=this;return new Promise((function(t,n){b.a.get("https://api.betaseries.com/friends/find?key="+e.clientId+"&access_token="+e.token).then((function(e){t(e.data.users)})).catch((function(e){n(e)}))}))}},{key:"addFriend",value:function(e){var t=this;return new Promise((function(n,a){b.a.post("https://api.betaseries.com/friends/friend",{id:e,key:t.clientId,access_token:t.token}).then((function(e){n(e.data)})).catch((function(e){a(e)}))}))}},{key:"getMemberFriends",value:function(){var e=this;return new Promise((function(t,n){b.a.get("https://api.betaseries.com/friends/list?key="+e.clientId+"&access_token="+e.token).then((function(e){t(e.data.users)})).catch((function(e){n(e)}))}))}},{key:"blockFriend",value:function(e){var t=this;return new Promise((function(n,a){b.a.post("https://api.betaseries.com/friends/block",{id:e,key:t.clientId,access_token:t.token}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"unblockFriend",value:function(e){var t=this;return new Promise((function(n,a){b.a.delete("https://api.betaseries.com/friends/block?key="+t.clientId+"&access_token="+t.token+"&id="+e).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"deleteFriend",value:function(e){var t=this;return new Promise((function(n,a){b.a.delete("https://api.betaseries.com/friends/friend?key="+t.clientId+"&access_token="+t.token+"&id="+e).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"getBlockedFriends",value:function(){var e=this;return new Promise((function(t,n){b.a.get("https://api.betaseries.com/friends/list?key="+e.clientId+"&access_token="+e.token+"&blocked=true").then((function(e){t(e.data.users)})).catch((function(e){n(e)}))}))}},{key:"addViewedEpisode",value:function(e){var t=this;return new Promise((function(n,a){b.a.post("https://api.betaseries.com/episodes/watched",{id:e,key:t.clientId,access_token:t.token}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"deleteViewedEpisode",value:function(e){var t=this;return new Promise((function(n,a){b.a.delete("https://api.betaseries.com/episodes/watched?id="+e+"&key="+t.clientId+"&access_token="+t.token).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},{key:"findFriendByMail",value:function(e){var t=this;return new Promise((function(n,a){b.a.get("https://api.betaseries.com/friends/find?key="+t.clientId+"&access_token="+t.token+"&type=emails&emails="+e).then((function(e){n(e.data.users)})).catch((function(e){a(e)}))}))}},{key:"sendEpisodeComment",value:function(e,t){var n=this;return new Promise((function(a,c){b.a.post("https://api.betaseries.com/comments/comment",{type:"episode",id:t,text:e,key:n.clientId,access_token:n.token}).then((function(e){a(e)})).catch((function(e){c(e)}))}))}}]),e}()),_=n(56),F=n.n(_),C=(n(120),Object(y.a)((function(){return{addIcon:{fontSize:"50px",color:"#ff2244",transition:"all 0.3s","&:hover":{color:"#2ecc71"}}}})));function P(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),o=n[0],i=n[1],r=C();return c.a.createElement(u.a,{item:!0,xs:4,className:"card"},c.a.createElement("div",{className:"img-container"},c.a.createElement("img",{className:"card-img",src:e.show.images.poster,alt:e.show.original_title+"banner",onMouseDown:function(e){i(Date.now())},onMouseUp:function(t){var n;n=e.show.id,Date.now()-o>600&&window.location.replace("/show/"+n)}})),c.a.createElement("div",{className:"infos-container"},c.a.createElement("h3",{className:"card-title"},e.show.original_title),c.a.createElement("p",null,"Saison(s): ",c.a.createElement("em",null,e.show.seasons)),c.a.createElement("p",null,"Genre: ",function(e){var t=[],n=0;for(var a in e)if(t.push(a),2===++n)break;return t}(e.show.genres).map((function(e,t){return c.a.createElement("em",{key:t},e+" ")}))),c.a.createElement("p",null,c.a.createElement("em",null,e.show.episodes)," \xe9pisode(s)"),c.a.createElement("p",null,c.a.createElement("em",null,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return e.length<=t?e:e.substr(0,e.lastIndexOf(n,t))+"..."}(e.show.description,150))),e.private?null:c.a.createElement(f.a,{onClick:function(){var t;t=e.show.id,e.private||N.addShow(t).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},c.a.createElement(F.a,{size:"large",className:r.addIcon}))))}n(121);function A(e){return c.a.createElement(u.a,{container:!0},e.shows.map((function(t,n){return c.a.createElement(P,{key:n,show:t,private:!!e.private})})))}function z(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){return N.followedShows().then((function(e){o(e.data.shows)})).catch((function(e){console.log(e)})),function(){}}),[]),c.a.createElement(u.a,{container:!0},c.a.createElement(u.a,{item:!0},n.length>0?c.a.createElement(A,{shows:n,private:!0}):null))}function M(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){return N.discover(15).then((function(e){o(e)})).catch((function(e){console.log("err "+e)})),function(){}}),[]),c.a.createElement(u.a,{container:!0},c.a.createElement(u.a,{item:!0,xs:12},n.length>0?c.a.createElement(A,{shows:n}):null))}var B=n(57),T=n.n(B);n(122);function L(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),o=n[0],i=n[1];return c.a.createElement(c.a.Fragment,null,o?c.a.createElement(u.a,{item:!0,xs:2,className:"friend-box"},c.a.createElement("h5",null,e.friend.login),c.a.createElement(f.a,{onClick:function(){var t;t=e.friend.id,N.addFriend(t).then((function(e){i(!1)})).catch((function(e){console.log(e)}))}},c.a.createElement(T.a,null))):null)}n(123);function D(e){return c.a.createElement(u.a,{container:!0,justify:"center"},e.friends.map((function(e,t){return function(e){return""!==e.login&&!e.in_account}(e)?c.a.createElement(L,{key:t,friend:e}):null})))}var R=n(59),U=n.n(R),V=n(60),G=n.n(V),J=n(58),W=n.n(J);function H(e){return c.a.createElement("div",null,e.friends.map((function(t,n){return c.a.createElement("div",{key:n},c.a.createElement("span",null,t.login," "),e.blocked?c.a.createElement(f.a,{onClick:function(){var e;e=t.id,N.unblockFriend(e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},c.a.createElement(W.a,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{onClick:function(){var e;e=t.id,N.blockFriend(e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},c.a.createElement(U.a,null)),c.a.createElement(f.a,{onClick:function(){var e;e=t.id,N.deleteFriend(e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},c.a.createElement(G.a,null))," "))})))}var q=n(61),K=n.n(q),Q=(n(124),Object(y.a)((function(){return{PersonAddIcon:{color:"#f1f1f1",fontSize:"35px",verticalAlign:"middle",marginLeft:"15px",cursor:"pointer"}}})));function X(e){var t=Q(),n=Object(a.useState)(""),o=Object(l.a)(n,2),i=o[0],r=o[1],s=Object(a.useState)([]),f=Object(l.a)(s,2),m=f[0],d=f[1],h=Object(a.useState)([]),p=Object(l.a)(h,2),E=p[0],v=p[1],k=Object(a.useState)([]),g=Object(l.a)(k,2),b=g[0],w=g[1];Object(a.useEffect)((function(){N.getRecommandationFriends().then((function(e){w(e)})).catch((function(e){console.log(e)})),N.getMemberFriends().then((function(e){d(e)})).catch((function(e){console.log(e)})),N.getBlockedFriends().then((function(e){v(e)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement(u.a,{id:"friend-box",container:!0},c.a.createElement(u.a,{item:!0,xs:5},c.a.createElement("div",{id:"friend-container"},c.a.createElement("h2",{id:"friend-title"}," Friends "),c.a.createElement(H,{friends:m}),c.a.createElement("h2",{id:"friend-title"}," Blocked friends "),c.a.createElement(H,{friends:E,blocked:!0}))),c.a.createElement(u.a,{item:!0,xs:7},c.a.createElement("div",{id:"friend-recommandation"},c.a.createElement("input",{type:"text",onChange:function(e){!function(e){r(e.target.value)}(e)},id:"friend-search"}),c.a.createElement(K.a,{onClick:function(){N.findFriendByMail(i).then((function(e){w(e)})).catch((function(e){console.log(e)}))},className:t.PersonAddIcon})," "),c.a.createElement("div",null,c.a.createElement(D,{friends:b}))))}var Y=n(155),Z=n(68),$=n.n(Z),ee=n(67),te=n.n(ee),ne=n(70),ae=n.n(ne),ce=n(69),oe=n.n(ce),ie=n(152),re=n(153),se=n(154),le=Object(y.a)((function(){return{starIcon:{fontSize:"40px"}}}));function ue(e){var t=le(),n=Object(a.useState)([]),o=Object(l.a)(n,2),i=o[0],r=o[1],s=Object(a.useState)([]),u=Object(l.a)(s,2),f=u[0],m=u[1],d=Object(a.useState)([]),h=Object(l.a)(d,2),p=h[0],E=h[1];return Object(a.useEffect)((function(){var n=Math.round(2*e.note)/2;if(n%1!==0){for(var a=n-.5,o=4-a,i=[],s=[],l=a;l>0;l--)i.push(c.a.createElement(ie.a,{key:"full_"+l,className:t.starIcon}));for(var u=o;u>0;u--)s.push(c.a.createElement(re.a,{key:"empty_"+u,className:t.starIcon}));r(i),m([c.a.createElement(se.a,{key:"half",className:t.starIcon})]),E(s)}else{for(var f=5-n,d=[],h=[],p=n;p>0;p--)d.push(c.a.createElement(ie.a,{key:"full_"+p,className:t.starIcon}));for(var v=f;v>0;v--)h.push(c.a.createElement(re.a,{key:"empty_"+v,className:t.starIcon}));r(d),E(h)}return function(){}}),[e.note,t.starIcon]),c.a.createElement("div",{style:{display:"inline-block"}},i,f,p)}var fe=n(62),me=n.n(fe),de=n(63),he=n.n(de),pe=n(64),Ee=n.n(pe),ve=(n(125),Object(y.a)((function(){return{moreIcon:{fontSize:"95px",cursor:"pointer","&:hover":{transform:"scale(1.05)"},"&:active":{transform:"scale(0.95)"}},seenIcon:{color:"#2ecc71",cursor:"pointer","&:hover":{color:"#ff2244"}},notSeenIcon:{color:"#ff2244",cursor:"pointer","&:hover":{color:"#2ecc71"}}}})));function ke(e){var t=ve(),n=Object(a.useState)([]),o=Object(l.a)(n,2),i=o[0],r=o[1],s=Object(a.useState)(!1),u=Object(l.a)(s,2),f=u[0],m=u[1],d=Object(a.useState)(null),h=Object(l.a)(d,2),p=h[0],E=h[1];Object(a.useEffect)((function(){return N.getEpisodePicture(e.episode.id).then((function(e){r(e)})).catch((function(e){console.log(e)})),e.episode.user.seen?m(!0):m(!1),function(){}}),[e.episode]);return c.a.createElement("div",{className:"episode-container"},c.a.createElement("img",{src:i,className:"episode-img",alt:e.episode.code+" image"}),c.a.createElement("div",{className:"episodes-infos"},c.a.createElement("h4",{className:"episode-code"},e.episode.code),c.a.createElement("p",{className:"episode-title"},e.episode.title),c.a.createElement("p",null,c.a.createElement(me.a,{onMouseDown:function(e){E(Date.now())},onMouseUp:function(t){var n;n=e.episode.id,Date.now()-p>600&&window.location.replace("/episode/"+n)},className:t.moreIcon})),f?c.a.createElement("p",null,c.a.createElement(he.a,{onClick:function(){var t;t=e.episode.id,N.deleteViewedEpisode(t).then((function(e){m(!1)})).catch((function(e){console.log(e)}))},className:t.seenIcon})):c.a.createElement("p",null,c.a.createElement(Ee.a,{onClick:function(){var t;t=e.episode.id,N.addViewedEpisode(t).then((function(e){m(!0)})).catch((function(e){console.log(e)}))},className:t.notSeenIcon}))))}var ge=n(65),be=n.n(ge),we=n(66),ye=n.n(we),je=(n(126),Object(y.a)((function(){return{arrowIcon:{fontSize:"45px"}}})));function Oe(e){var t=je(),n=Object(a.useState)([]),o=Object(l.a)(n,2),i=o[0],r=o[1],s=c.a.createRef();Object(a.useEffect)((function(){return N.getEpisodesBySeason(e.showId,e.season).then((function(e){console.log(e),r(e)})).catch((function(e){console.log(e)})),function(){}}),[e.season,e.showId]);return c.a.createElement("div",{id:"episodes-container"},c.a.createElement("div",{className:"carousel-arrow",id:"carousel-arrow-left",onClick:function(){s.current.scrollLeft=s.current.scrollLeft-720}},c.a.createElement(be.a,{className:t.arrowIcon})),c.a.createElement("div",{className:"carousel-arrow",id:"carousel-arrow-right",onClick:function(){s.current.scrollLeft=s.current.scrollLeft+720}},c.a.createElement(ye.a,{className:t.arrowIcon})),c.a.createElement("div",{ref:s,id:"episodes-carousel"},i.length>0?i.map((function(e,t){return c.a.createElement(ke,{key:t,episode:e})})):null))}n(127);var Ie=Object(y.a)((function(){return{seasonButton:{color:"#ff2244",fontSize:"20px",fontWeight:"bold"},actived:{backgroundColor:"#ff2244",color:"#f1f1f1",fontSize:"20px",fontWeight:"bold","&:hover":{backgroundColor:"#ff2244"}},icons:{fontSize:"35px",cursor:"pointer"}}}));function Se(e){var t=Ie(),n=Object(a.useState)([]),o=Object(l.a)(n,2),i=o[0],r=o[1],s=Object(a.useState)(1),f=Object(l.a)(s,2),m=f[0],d=f[1],h=Object(a.useState)(null),p=Object(l.a)(h,2),E=p[0],v=p[1],k=Object(a.useState)(null),g=Object(l.a)(k,2),b=g[0],w=g[1];Object(a.useEffect)((function(){var t=e.match.params.id;return N.getShow(t).then((function(e){console.log(e),e.user.archived?w(!0):w(!1),e.user.favorited?v(!0):v(!1),r(e)})).catch((function(e){console.log(e)})),function(){}}),[e.match.params.id]);return c.a.createElement(c.a.Fragment,null,Object.keys(i).length>0?c.a.createElement(u.a,{container:!0},c.a.createElement(u.a,{item:!0,xs:3,id:"img-container"},c.a.createElement("img",{id:"show-img",src:i.images.poster,alt:i.original_title+"banner"})),c.a.createElement(u.a,{item:!0,xs:9,id:"infos-container"},c.a.createElement("h3",{id:"show-title"},i.original_title),E?c.a.createElement(te.a,{onClick:function(){var e;e=i.id,N.deleteShowFavorite(e).then((function(e){v(!1),console.log("show deleted from favorite"),console.log(e)})).catch((function(e){console.log(e)}))},className:t.icons}):c.a.createElement($.a,{onClick:function(){var e;e=i.id,N.addShowFavorite(e).then((function(e){v(!0),console.log("show added to favorite"),console.log(e)})).catch((function(e){console.log(e)}))},className:t.icons}),b?c.a.createElement(oe.a,{onClick:function(){var e;e=i.id,N.deleteShowArchive(e).then((function(e){w(!1),console.log("show deleted from archive"),console.log(e)})).catch((function(e){console.log(e)}))},className:t.icons}):c.a.createElement(ae.a,{onClick:function(){var e;e=i.id,N.addShowArchive(e).then((function(e){w(!0),console.log("show added to archive"),console.log(e)})).catch((function(e){console.log(e)}))},className:t.icons}),c.a.createElement("p",null,c.a.createElement("em",null,"Seasons: ",i.seasons)),c.a.createElement("p",null,"Genre: ",function(e){var t=[];for(var n in e)t.push(n);return t}(i.genres).map((function(e,t){return c.a.createElement("em",{key:t},e+" ")}))),c.a.createElement("p",null,c.a.createElement("em",null,i.episodes)," \xe9pisode(s)"),c.a.createElement("p",{id:"show-description"},c.a.createElement("em",null,i.description)),c.a.createElement("p",null,"Average episode length : ",c.a.createElement("em",null,i.length," min.")),c.a.createElement(ue,{note:i.notes.mean}),c.a.createElement("p",{id:"show-note"},"(",i.notes.mean.toFixed(2)," from ",i.notes.total," votes)"),c.a.createElement("div",{id:"seasons-container"},i.seasons_details.map((function(e,n){return c.a.createElement(Y.a,{onClick:function(){d(e.number)},className:m===e.number?t.actived:t.seasonButton,key:n},"Season ",e.number)})),c.a.createElement(Oe,{id:"show-episodes",showId:i.id,season:m})))):null)}n(128);var xe=Object(y.a)((function(){return{commentButton:{color:"#f1f1f1",fontSize:"24px"}}}));function Ne(e){var t=xe(),o=Object(a.useState)([]),i=Object(l.a)(o,2),r=i[0],s=i[1],f=Object(a.useState)([]),m=Object(l.a)(f,2),d=m[0],h=m[1],p=Object(a.useState)(""),E=Object(l.a)(p,2),v=E[0],k=E[1],g=n(129);Object(a.useEffect)((function(){var t=e.match.params.id;return N.getEpisode(t).then((function(e){console.log(e),s(e)})).catch((function(e){console.log(e)})),N.getEpisodePicture(t).then((function(e){h(e)})).catch((function(e){console.log(e)})),function(){}}),[e.match.params.id]);var b;return c.a.createElement(c.a.Fragment,null,Object.keys(r).length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{container:!0,justify:"center",id:"episode-infos-container"},c.a.createElement(u.a,{item:!0,xs:6,id:"episode-infos"},c.a.createElement("h4",{id:"episode-big-title"},r.show.title," - ",r.code),c.a.createElement("em",{id:"episode-title"},r.title," - ",(b=r.date,g(b,"longDate"))),c.a.createElement("p",{id:"episode-description"},r.description),c.a.createElement(ue,{note:r.note.mean}),c.a.createElement("p",{id:"show-note"},"(",r.note.mean.toFixed(2)," from ",r.note.total," votes)"),c.a.createElement("textarea",{id:"episode-comment",onChange:function(e){!function(e){k(e.target.value)}(e)}}),c.a.createElement(Y.a,{onClick:function(){var e;e=r.id,console.log(v,e),N.sendEpisodeComment(v,e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},className:t.commentButton},"Comment")),c.a.createElement(u.a,{item:!0},c.a.createElement("img",{id:"episode-img",src:d,alt:r.code+" image"}))),c.a.createElement(u.a,{container:!0,justify:"center"},c.a.createElement(u.a,{item:!0,xs:10},c.a.createElement(Oe,{id:"episode-season",showId:r.show.id,season:r.season})))):null)}var _e=n(72),Fe=n.n(_e),Ce=n(71),Pe=n.n(Ce),Ae=(n(130),Object(y.a)((function(){return{lockOpen:{color:"#2ecc71",fontSize:"150px"},lockClose:{color:"#ff2244",fontSize:"150px"}}})));function ze(){var e=Ae(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),o=n[0],i=n[1];return c.a.createElement(u.a,{container:!0,justify:"center"},c.a.createElement(u.a,{item:!0,xs:8},c.a.createElement("div",{id:"login-container"},c.a.createElement(f.a,{onMouseEnter:function(){i(!0)},onMouseLeave:function(){i(!1)},onClick:function(){w.con()}},o?c.a.createElement(Pe.a,{className:e.lockOpen}):c.a.createElement(Fe.a,{className:e.lockClose})))))}var Me=Object(y.a)((function(){return{loading:{color:"#ff2244"}}}));function Be(){var e=Me();return Object(a.useEffect)((function(){return w.discon().then((function(e){w.removeToken(),window.location.href="/login"})).catch((function(e){console.log(e),w.removeToken(),window.location.href="/login"})),function(){}}),[]),c.a.createElement(u.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(u.a,{style:{textAlign:"center"},item:!0},c.a.createElement("h2",null,"Logging Out ..."),c.a.createElement(I.a,{size:"75px",className:e.loading})))}var Te=function(e){var t=e.component,n=Object(r.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},n,{render:function(e){return w.isAuthenticated()?c.a.createElement(t,e):c.a.createElement(s.a,{to:"/login"})}}))},Le=function(e){var t=e.component,n=Object(r.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},n,{render:function(e){return w.isAuthenticated()?c.a.createElement(s.a,{to:"/home"}):c.a.createElement(t,e)}}))};var De=Object(s.g)((function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement(s.d,null,c.a.createElement(Le,{exact:!0,path:"/login",component:ze}),c.a.createElement(Le,{exact:!0,path:"/getcode",component:x}),c.a.createElement(Te,{exact:!0,path:"/disconnect",component:Be}),c.a.createElement(Te,{exact:!0,path:"/home",component:z}),c.a.createElement(Te,{exact:!0,path:"/discover",component:M}),c.a.createElement(Te,{exact:!0,path:"/friends",component:X}),c.a.createElement(Te,{path:"/show/:id",component:Se}),c.a.createElement(Te,{path:"/episode/:id",component:Ne}),c.a.createElement(s.b,{path:"*"},c.a.createElement(s.a,{to:"/home"}))))}));n(131),n(132);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E.a,null,c.a.createElement(De,null))),document.getElementById("root"))},78:function(e,t,n){e.exports=n(133)},83:function(e,t,n){}},[[78,1,2]]]);
//# sourceMappingURL=main.c7af4942.chunk.js.map